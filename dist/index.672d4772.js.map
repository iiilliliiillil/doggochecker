{"mappings":"AAAA;AAEA,sCAAsC;AACtC,MAAM,iBAAiB,SAAS,cAAc,CAAC,mBAAmB,GAAG;AACrE,MAAM,cAAc,SAAS,cAAc,CAAC,gBAAgB,GAAG;AAC/D,MAAM,YAAY,SAAS,cAAc,CAAC,cAAc,GAAG;AAC3D,MAAM,aAAa,SAAS,cAAc,CAAC,eAAe,GAAG;AAE7D,MAAM,SAAS,EAAE,IAAI,CAAC;IACpB,SAAS;IACT,UAAU;QAAC;QAAI;KAAG;IAClB,YAAY;QAAC;QAAI;KAAG;IACpB,aAAa;QAAC;QAAI;KAAI;AACxB;AAEA,MAAM,UAAU,EAAE,IAAI,CAAC;IACrB,SAAS;IACT,UAAU;QAAC;QAAI;KAAG;IAClB,YAAY;QAAC;QAAI;KAAG;IACpB,aAAa;QAAC;QAAI;KAAI;AACxB;AAEA,MAAM,WAAW,EAAE,IAAI,CAAC;IACtB,SAAS;IACT,UAAU;QAAC;QAAI;KAAG;IAClB,YAAY;QAAC;QAAI;KAAG;IACpB,aAAa;QAAC;QAAI;KAAI;AACxB;AAEA,MAAM,WAAW;IACf,OAAO;QAAC;QAAmB;KAAmB;IAC9C,WAAW;QAAC;QAAoB;KAAiB;IACjD,MAAM;QAAC;QAAmB;KAAmB;IAC7C,WAAW;QAAC;QAAmB;KAAkB;AACnD;AAEA,MAAM,OAAO,SAAS,aAAa,CAAC;AACpC,MAAM,oBAAoB,SAAS,aAAa,CAAC;AACjD,MAAM,YAAY,SAAS,aAAa,CAAC;AACzC,MAAM,WAAW,SAAS,aAAa,CAAC;AACxC,MAAM,gBAAgB,SAAS,aAAa,CAAC;AAC7C,MAAM,gBAAgB,SAAS,aAAa,CAAC;AAC7C,MAAM,eAAe,SAAS,aAAa,CAAC;AAC5C,MAAM,iBAAiB,SAAS,aAAa,CAAC;AAE9C,MAAM,YAAY,SAAS,aAAa,CAAC;AACzC,MAAM,WAAW,SAAS,aAAa,CAAC;AAExC,MAAM;IACJ,CAAC,GAAG,CAAC;IACL,CAAC,QAAQ,CAAC;IAEV,aAAc;QACZ,IAAI,CAAC,aAAa;QAElB,KAAK,gBAAgB,CAAC,UAAU,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI;QAE1D,UAAU,gBAAgB,CAAC,UAAU;YACnC,UAAU,SAAS,CAAC,MAAM,CAAC;QAC7B;QAEA,SAAS,gBAAgB,CAAC,UAAU;YAClC,SAAS,SAAS,CAAC,MAAM,CAAC;QAC5B;QAEA,SAAS,gBAAgB,CAAC,UAAU,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI;IAClE;IAEA,gBAAgB;QACd,UAAU,WAAW,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI;IAClE;IAEA,SAAS,QAAQ,EAAE;QACjB,MAAM,SAAS;YAAC,SAAS,MAAM,CAAC,QAAQ;YAAE,SAAS,MAAM,CAAC,SAAS;SAAC;QAEpE,IAAI,CAAC,CAAC,GAAG,GAAG,EAAE,GAAG,CAAC,OAAO,OAAO,CAAC,QAAQ;QAEzC,EAAE,SAAS,CAAC,qDAAqD;YAC/D,SAAS;YACT,YAAY;gBAAC;gBAAO;gBAAO;gBAAO;aAAM;QAC1C,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG;QAElB,EAAE,MAAM,CAAC,QAAQ;YAAE,MAAM;QAAO,GAC7B,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,EACf,SAAS,CAAC,gGACV,SAAS;QAEZ,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI;IAChD;IAEA,UAAU,CAAC,EAAE;QACX,IAAI,CAAC,CAAC,QAAQ,GAAG;QACjB,KAAK,SAAS,CAAC,MAAM,CAAC;QACtB,cAAc,KAAK;IACrB;IAEA,kBAAkB,CAAC;IAEnB,gBAAgB;QACd,EAAE,MAAM,CAAC,SAAS,KAAK,EAAE;YAAE,MAAM;QAAS,GACvC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,EACf,SAAS,CAAC,oOACV,SAAS;QAEZ,EAAE,MAAM,CAAC,SAAS,IAAI,EAAE;YAAE,MAAM;QAAS,GACtC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,EACf,SAAS,CAAC,kKACV,SAAS;QAEZ,EAAE,MAAM,CAAC,SAAS,SAAS,EAAE;YAAE,MAAM;QAAS,GAC3C,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,EACf,SAAS,CAAC,4PACV,SAAS;QAEZ,EAAE,MAAM,CAAC,SAAS,SAAS,EAAE;YAAE,MAAM;QAAS,GAC3C,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,EACf,SAAS,CAAC,4PACV,SAAS;IACd;IAEA,YAAY,EAAE,EAAE;QACd,GAAG,cAAc;QAEjB,MAAM,MAAM;YAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG;YAAE,IAAI,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG;SAAC;QAElE,EAAE,MAAM,CAAC,KAAK;YAAE,MAAM;QAAQ,GAC3B,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,EACf,SAAS,CACR,EAAE,KAAK,CAAC;YACN,SAAS;YACT,WAAW;YACX,cAAc;YACd,WAAW;QACb,IAED,SAAS;IACd;AACF;AAEA,MAAM,MAAM,IAAI","sources":["script.js"],"sourcesContent":["'use strict';\n\n// Hacky hacks start here (tnx parcel)\nconst placeholderUrl = document.getElementById('img-placeholder').src;\nconst agentpinUrl = document.getElementById('img-agentpin').src;\nconst petpinUrl = document.getElementById('img-petpin').src;\nconst shelpinUrl = document.getElementById('img-shelpin').src;\n\nconst myIcon = L.icon({\n  iconUrl: placeholderUrl,\n  iconSize: [60, 60],\n  iconAnchor: [30, 60],\n  popupAnchor: [-3, -60],\n});\n\nconst petIcon = L.icon({\n  iconUrl: petpinUrl,\n  iconSize: [60, 60],\n  iconAnchor: [30, 59],\n  popupAnchor: [-3, -60],\n});\n\nconst shelIcon = L.icon({\n  iconUrl: shelpinUrl,\n  iconSize: [60, 60],\n  iconAnchor: [30, 59],\n  popupAnchor: [-3, -60],\n});\n\nconst shelters = {\n  tamaz: [41.68058616424739, 44.890587433797606],\n  saburtalo: [41.759052910070956, 44.7241872267311],\n  vake: [41.77725673725068, 44.734871839005876],\n  varketili: [41.68200580031455, 44.87386397170825],\n};\n\nconst form = document.querySelector('.form');\nconst containerWorkouts = document.querySelector('.workouts');\nconst inputType = document.querySelector('.form__input--typeuc');\nconst inputSos = document.querySelector('.form__input--typesos');\nconst inputDistance = document.querySelector('.form__input--distance');\nconst inputDuration = document.querySelector('.form__input--duration');\nconst inputCadence = document.querySelector('.form__input--temp');\nconst inputElevation = document.querySelector('.form__input--climb');\n\nconst agentstvo = document.querySelector('.form__sublabel__agent');\nconst checkbox = document.querySelector('.form__check');\n\nclass App {\n  #map;\n  #mapEvent;\n\n  constructor() {\n    this._get_Position();\n\n    form.addEventListener('submit', this._newWorkout.bind(this));\n\n    inputType.addEventListener('change', function () {\n      agentstvo.classList.toggle('hidden');\n    });\n\n    inputSos.addEventListener('change', function () {\n      checkbox.classList.toggle('hidden');\n    });\n\n    checkbox.addEventListener('change', this._showShelters.bind(this));\n  }\n\n  _get_Position() {\n    navigator.geolocation.getCurrentPosition(this._loadMap.bind(this));\n  }\n\n  _loadMap(position) {\n    const coords = [position.coords.latitude, position.coords.longitude];\n\n    this.#map = L.map('map').setView(coords, 13);\n\n    L.tileLayer('http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}', {\n      maxZoom: 20,\n      subdomains: ['mt0', 'mt1', 'mt2', 'mt3'],\n    }).addTo(this.#map);\n\n    L.marker(coords, { icon: myIcon })\n      .addTo(this.#map)\n      .bindPopup('Вы находитесь тут')\n      .openPopup();\n\n    this.#map.on('click', this._showForm.bind(this));\n  }\n\n  _showForm(e) {\n    this.#mapEvent = e;\n    form.classList.remove('hidden');\n    inputDistance.focus();\n  }\n\n  _showHelpNumber() {}\n\n  _showShelters() {\n    L.marker(shelters.tamaz, { icon: shelIcon })\n      .addTo(this.#map)\n      .bindPopup('Район Тамаз. Работает круглосуточно. Тел: 595 63 36 36')\n      .openPopup();\n\n    L.marker(shelters.vake, { icon: shelIcon })\n      .addTo(this.#map)\n      .bindPopup('Район Ваке. Работает до 19:00. Тел: 595 63 36 36')\n      .openPopup();\n\n    L.marker(shelters.varketili, { icon: shelIcon })\n      .addTo(this.#map)\n      .bindPopup('Район Варкетили. Работает круглосуточно. Тел: 595 63 36 36')\n      .openPopup();\n\n    L.marker(shelters.saburtalo, { icon: shelIcon })\n      .addTo(this.#map)\n      .bindPopup('Район Сабуртало. Работает круглосуточно. Тел: 595 63 36 36')\n      .openPopup();\n  }\n\n  _newWorkout(ev) {\n    ev.preventDefault();\n\n    const pos = [this.#mapEvent.latlng.lat, this.#mapEvent.latlng.lng];\n\n    L.marker(pos, { icon: petIcon })\n      .addTo(this.#map)\n      .bindPopup(\n        L.popup({\n          content: 'Ваша точка',\n          autoClose: false,\n          closeOnClick: false,\n          className: 'running-popup',\n        })\n      )\n      .openPopup();\n  }\n}\n\nconst app = new App();\n"],"names":[],"version":3,"file":"index.672d4772.js.map","sourceRoot":"/__parcel_source_root/"}